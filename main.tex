%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% writeLaTeX Example: A quick guide to LaTeX
%
% Source: Dave Richeson (divisbyzero.com), Dickinson College
% 
% A one-size-fits-all LaTeX cheat sheet. Kept to two pages, so it 
% can be printed (double-sided) on one piece of paper
% 
% Feel free to distribute this example, but please keep the referral
% to divisbyzero.com
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% How to use writeLaTeX: 
%
% You edit the source code here on the left, and the preview on the
% right shows you the result within a few seconds.
%
% Bookmark this page and share the URL with your co-authors. They can
% edit at the same time!
%
% You can upload figures, bibliographies, custom classes and
% styles using the files menu.
%
% If you're new to LaTeX, the wikibook is a great place to start:
% http://en.wikibooks.org/wiki/LaTeX
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[dvipdfmx,a4paper,10pt,landscape]{article}

\usepackage{amsmath}
\usepackage{stix2}

\usepackage{multicol,multirow}
\usepackage{ifthen}
\usepackage[landscape]{geometry}
\usepackage[colorlinks=true,citecolor=blue,linkcolor=blue]{hyperref}

\ifthenelse{\lengthtest { \paperwidth = 11in}}
    { \geometry{top=.5in,left=.5in,right=.5in,bottom=.5in} }
	{\ifthenelse{ \lengthtest{ \paperwidth = 297mm}}
		{\geometry{top=1cm,left=1cm,right=1cm,bottom=1cm} }
		{\geometry{top=1cm,left=1cm,right=1cm,bottom=1cm} }
	}
\pagestyle{empty}
\makeatletter
\renewcommand{\section}{\@startsection{section}{1}{0mm}%
                                {-1ex plus -.5ex minus -.2ex}%
                                {0.5ex plus .2ex}%x
                                {\normalfont\large\bfseries}}
\renewcommand{\subsection}{\@startsection{subsection}{2}{0mm}%
                                {-1explus -.5ex minus -.2ex}%
                                {0.5ex plus .2ex}%
                                {\normalfont\normalsize\bfseries}}
\renewcommand{\subsubsection}{\@startsection{subsubsection}{3}{0mm}%
                                {-1ex plus -.5ex minus -.2ex}%
                                {1ex plus .2ex}%
                                {\normalfont\small\bfseries}}
\makeatother
\setcounter{secnumdepth}{0}
\setlength{\parindent}{0pt}
\setlength{\parskip}{0pt plus 0.5ex}

\DeclareMathOperator{\sinc}{sinc}
\DeclareMathOperator{\rect}{rect}
% -----------------------------------------------------------------------

\begin{document}

\raggedright
\footnotesize

\begin{center}
    \Large{\textbf{EE4704 Cheat Sheet}} \\
\end{center}
\begin{multicols}{3}
    \setlength{\premulticols}{1pt}
    \setlength{\postmulticols}{1pt}
    \setlength{\multicolsep}{1pt}
    \setlength{\columnsep}{2pt}

    \section{Fourier Transform}
    \subsection{Basics}
    \subsubsection{Delta function}
    1D:
    \begin{gather*}
        \delta(x)=
        \begin{cases}
            0      & x \neq 0 \\
            \infty & x = 0
        \end{cases} \\
        f(x)\times\delta(x-a)=f(a)\delta(x-a) \\
        \int_{-\infty}^{\infty}f(x)\delta(x-a)dx=f(a)
    \end{gather*}
    2D:
    \begin{gather*}
        \delta(x,y)=
        \begin{cases}
            0      & x,y \neq 0 \\
            \infty & x,y = 0
        \end{cases} \\
        f(x,y)\delta(x-a,y-b)=f(a,b)\delta(x-a,y-b) \\
        \iint_{-\infty}^{+\infty}f(x,y)\delta(x-a,y-b)dxdy=f(a,b)
    \end{gather*}
    \subsubsection{Rectangle function}
    \begin{align*}
        \rect(x)   & =
        \begin{cases}
            1 & |x|\leq\frac{1}{2} \\
            0 & \text{otherwise}
        \end{cases} \\
        \rect(x,y) & =
        \begin{cases}
            1 & |x|,|y|\leq\frac{1}{2} \\
            0 & \text{otherwise}
        \end{cases}
    \end{align*}
    \subsubsection{Sinc function}
    \begin{align*}
        \sinc(x)   & =\frac{sin(\pi x)}{\pi x}                               \\
        \sinc(x,y) & =\frac{sin(\pi x)}{\pi x}\times\frac{sin(\pi y)}{\pi y} \\
                   & = \sinc(x)\sinc(y)
    \end{align*}

    \subsection{2D Fourier Transform}
    \begin{equation*}
        F(u,v)=\iint_{-\infty}^{+\infty}f(x,y)\exp[-j2\pi(ux+vy)]dxdy
    \end{equation*}
    Inverse:
    \begin{equation*}
        f(x,y)=\iint_{-\infty}^{+\infty}F(u,v)\exp[j2\pi(ux+vy)]dudv
    \end{equation*}
    Note
    \begin{align*}
        \exp[j2\pi(ux+vy)]  & =\cos[2\pi(ux+vy)]+j\sin[2\pi(ux+vy)] \\
        \exp[-j2\pi(ux+vy)] & =\cos[2\pi(ux+vy)]-j\sin[2\pi(ux+vy)]
    \end{align*}
    In general, the Fourier transform is complex:
    \begin{equation*}
        F(u,v)\equiv F_R(u,v)+jF_I(u,v)\equiv|F(u,v)|\exp[j\phi(u,v)]
    \end{equation*}
    with real part $F_R(u,v)$ and an imaginary part $F_I(u,v)$:
    \begin{center}
        \begin{tabular} {lll}
            Fourier spectrum: & $|F(u,v)|$  & $=[F_R^2(u,v)+F_I^2(u,v)]^{1/2}$ \\
            Phase spectrum:   & $\phi(u,v)$ & $=\tan^{-1}[F_I(u,v)/F_R(u,v)]$  \\
            Power spectrum:   & $P(u,v)$    & $=|F(u,v)|^2=R^2(u,v)+I^2(u,v)$
        \end{tabular}
    \end{center}
    Useful transform pairs:
    \begin{center}
        \begin{tabular}{ll}
            \hline
            Signal                     & Fourier transform                          \\
            \hline
            1                          & $\delta(u,v)$                              \\
            $\delta(x,y)$              & $1$                                        \\
            $\rect(x,y)$               & $\sinc(u,v)$                               \\
            $\sinc(x,y)$               & $\rect(u,v)$                               \\
            $e^{j2\pi(x+y)}$           & $\delta(u-1,v-1)$                          \\
            $e^{-(x^2+y^2)/2\sigma^2}$ & $2\pi\sigma^2e^{-2\pi^2\sigma^2(u^2+v^2)}$
        \end{tabular}
    \end{center}

    \subsection{Properties of 2D Continuous Transformation}
    \subsubsection{Linearity}
    \begin{equation*}
        \mathcal{F}\{af_1(x,y)+bf_2(x,y)\}=aF_1(u,v)+bF_2(u,v)
    \end{equation*}
    where $a$ and $b$ are constants.
    \subsubsection{Conjugate Symmetry}
    \begin{gather*}
        \mathcal{F}\{f^*(x,y)\}=F^*(-u,-v) \\
        |F(u,v)|=|F(-u,-v)|
    \end{gather*}
    where $^*$ denotes the complex conjugation of a variable,
    and $|F(u,v)|$ is symmetrical about the origin.
    \subsubsection{Translation}
    \begin{gather*}
        \mathcal{F}\{f(x-a,y-b)\}=F(u,v)\exp[-j2\pi(au+bv)] \\
        |\mathcal{F}\{f(x-a,y-b)\}|=|\mathcal{F}\{f(x,y)\}|
    \end{gather*}
    a spatial shift does not affect the magnitude of the transform.
    \subsubsection{Scaling}
    \begin{equation*}
        \mathcal{F}\{f(ax,by)\}=\frac{1}{|ab|}F(u/a,v/b)
    \end{equation*}
    \subsubsection{Parseval's Theorem}
    \begin{equation*}
        \iint_{-\infty}^{+\infty}|f(x,y)|^2dxdy=\iint_{-\infty}^{+\infty}|F(u,v)|^2 dudv
    \end{equation*}
    \subsubsection{Convolution}
    \begin{gather*}
        \mathcal{F}\{f(x,y)*h(x,y)\}=F(u,v)H(u,v)\\
        \mathcal{F}\{f(x,y)h(x,y)\}=F(u,v)*H(u,v)
    \end{gather*}
    \subsubsection{Rotation}
    \begin{equation*}
        x=r\cos\theta\quad y=r\sin\theta\quad u=\omega\cos\phi\quad v=\omega\sin\phi
    \end{equation*}
    then $f(x,y)$ and $F(u,v)$ become $f(r,\theta)$ and $F(\omega,\phi)$ and
    \begin{equation*}
        f(r,\theta+\theta_0) \iff F(\omega,\phi+\theta_0)
    \end{equation*}

    \subsection{Discrete Fourier Transform}
    The discrete Fourier transform (DFT) pair is given by
    \begin{align*}
        F(u) & = \frac{1}{N}\sum_{x=0}^{N-1}f(x)\exp[-j2\pi ux/N];\quad u=0,1,2,\ldots,N-1 \\
        f(x) & = \sum_{u=0}^{N-1}F(u)\exp[j2\pi ux/N];\quad x=0,1,2,\ldots,N-1
    \end{align*}
    In the 2D case, the DFT pair is
    \begin{align*}
        F(u,v)  = \frac{1}{MN}\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}f(x,y)\exp[-j2\pi (ux/M+vy/N)]; \\
        u=0,1,2,\ldots,M-1,\ v=0,1,2,\ldots,N-1                                               \\                                          \\
        f(x,y)  = \sum_{u=0}^{M-1}\sum_{v=0}^{N-1}F(u,v)\exp[j2\pi (ux/M+vy/N)];              \\
        x=0,1,2,\ldots,M-1, y=0,1,2,\ldots,N-1
    \end{align*}
    \subsubsection{Time Complexity}
    \begin{center}
        \begin{tabular}{ll}
            Direct DFT: & $M^2N^2$       \\
            FFT:        & $MN\log_2(MN)$
        \end{tabular}
    \end{center}
    \subsection{Some Properties of the 2D DFT}
    \subsubsection{Separability}
    \begin{gather*}
        F(u,v) = \frac{1}{M}\sum_{x=0}^{N-1}F_r(x,v)\exp[-j2\pi ux/M] \\
        F_r(x,v)=\frac{1}{N}\sum_{y=0}^{N-1}f(x,y)\exp[-j2\pi vy/N]
    \end{gather*}
    \subsubsection{Average Value}
    \begin{gather*}
        \bar{f}(x,y)=\frac{1}{MN}\sum_{x=0}^{M-1}\sum_{y=0}^{N-1}f(x,y) \\
        \bar{f}(x,y)=F(0,0)
    \end{gather*}
    \subsubsection{Translation}
    Same as continuous.
    \subsubsection{Conjugate Symmetry and Periodicity}
    \begin{gather*}
        F(u)=F(u+kN)\quad k=0,\pm1,\pm2,\ldots \\
        f(x)=f(x+kN)\quad k=0,\pm1,\pm2,\ldots \\
        F(u) = F^*(-u) = F^*(-u+N)
    \end{gather*}
    \subsubsection{Centering}
    \begin{equation*}
        f'(x,y)=f(x,y)(-1)^{x+y}
    \end{equation*}

    \subsection{Image Sampling}
    \begin{gather*}
        F_s(u,v)=\frac{1}{\Delta x \Delta y}\sum_{m=-\infty}^{\infty}\sum_{n=-\infty}^{\infty}F(u-mu_s,v-nv_s) \\
        F_s(u)=\sum_{m=-\infty}^{\infty}F(u-mu_s)
    \end{gather*}
    \subsubsection{Nyquist Sampling Theorem}
    \begin{equation*}
        u_s\geq2U
    \end{equation*}
    otherwise, there is aliasing, leading to artifacts in sampled signal.

    \section{Noise Reduction}
    \subsection{Mean Filtering}
    Variations in the mask:
    \begin{equation*}
        \frac{1}{9}
        \begin{bmatrix}
            1 & 1 & 1 \\
            1 & 1 & 1 \\
            1 & 1 & 1
        \end{bmatrix}
        \quad
        \frac{1}{10}
        \begin{bmatrix}
            1 & 1 & 1 \\
            1 & 2 & 1 \\
            1 & 1 & 1
        \end{bmatrix}
        \quad
        \frac{1}{16}
        \begin{bmatrix}
            1 & 2 & 1 \\
            2 & 4 & 2 \\
            1 & 2 & 1
        \end{bmatrix}
    \end{equation*}
    Causes blurring, is equivalent to low-pass filtering.
    Gaussian mask:
    \begin{equation*}
        h(x,y)=\exp\left[-\frac{(x^2+y^2)}{2\sigma^2}\right]
    \end{equation*}
    \subsection{Median Filtering}
    Requires $3(N^2-1)/8$ comparisons with bubble sort to find $(N+1)/2$ largest value.
    \subsubsection{Properties}
    \begin{itemize}
        \item Good at removing outlier noise.
        \item Different window shapes and sizes may be used.
        \item The shape chosen for the window may affect the processing results.
        \item Reduces the variance of the intensities in the image.
        \item No new gray values are generated.
        \item In general, the median filter tends to preserve edges while removing noise effectively.
    \end{itemize}

    \subsection{Spatial Filtering From Order Statistics}
    \subsubsection{Midpoint Filter}
    \begin{equation*}
        \text{output}=\frac{z_1+z_N}{2}
    \end{equation*}
    should not be used with images that contain outlier noise such as salt-and-pepper noise.
    \subsubsection{Maximum and minimum filters}
    Minimum:
    \begin{equation*}
        \text{output}=z_1
    \end{equation*}
    If an image contains only salt noise, then the minimum filter removes this noise.
    Maximum:
    \begin{equation*}
        \text{output}=z_N
    \end{equation*}
    It is effective in smoothing an image containing only pepper noise. Both are biased.
    \subsection{Alpha-Trimmed Mean Filter}
    Mixture of the mean and median filters, reasonably well for Gaussian and outlier.
    \begin{equation*}
        \text{output}=\frac{1}{N-2p}\sum_{i=p+1}{N-p}z_i
    \end{equation*}
    where
    \begin{equation*}
        p=0,1,2,3,\ldots,\frac{N-1}{2}\quad\text{N odd}
    \end{equation*}
    $p=0$: mean, other median.\\
    Both outlier and Gaussian: $p\neq0$ removes outlier in calculation of mean, less blurring than mean filter.\\
    \subsection{Image Averaging}
    Consider noise uncorrelated over time and has mean value equal to zero.
    \begin{gather*}
        g(x,y)=f(x,y)+\eta(x,y)\\
        \bar{g}(x,y)=f(x,y)+\frac{1}{K}\sum_{t=1}^K \eta_t(x,y)\\
        E\{\bar{g}(x,y)\}=f(x,y),\quad K\to\infty
    \end{gather*}

    \section{Image Enhancement}
    \subsection{Contrast Stretching}
    \begin{equation*}
        s_k=\begin{cases}
            ar_k                & 0\leq r_k < r_a    \\
            \beta(r_k-r_a)+s_a  & r_a \leq r_k < r_b \\
            \gamma(r_k-r_b)+s_b & r_b \leq r_k < L-1
        \end{cases}
    \end{equation*}
    \subsection{Digital Negative}
    \begin{equation*}
        s_k=(L-1)-r_k
    \end{equation*}
    \subsection{Intensity Level Slicing}
    \subsection{Log Transformation}
    \subsection{Histogram Equalization}
    \subsection{Histogram Specification}
    \begin{equation*}
        z=G^{-1}(s)=G^{-1}[T(r)]
    \end{equation*}
    \subsection{Image Sharpening}
    \subsubsection{Butterworth Filter}
    \begin{equation*}
        H(\omega)=\frac{1}{1+(\omega/\omega_0)^{2n}}
    \end{equation*}
    No sharp discontinuity, less ringing. Swap $\omega$ and $\omega_0$ for high-pass.

    \subsection{Gaussian Filtering}
    \begin{gather*}
        H(u,v)=e^{-\omega^2/2\sigma^2}=e^{-\ln 2(\omega/\omega_0)^2}\quad\text{low}
    \end{gather*}

\end{multicols}

\end{document}
